{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vishw\\\\OneDrive\\\\Documents\\\\Mythinkacademy\\\\client\\\\src\\\\pages\\\\Dashboard\\\\Admin\\\\Teams\\\\Details\\\\TeamCreate.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { fetchAllGrades, dispatchGetAllGrades } from '../../../../../redux/actions/GradesAction';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchAllTeachers, dispatchGetAllTeachers } from '../../../../../redux/actions/AllTeachersAction';\nimport TeachersFilters from '../../Teachers/Details/TeachersFilters';\nimport LoadMoreTeachers from '../../Teachers/Details/TeachersLoadMore';\nimport { fetchAllStudents, dispatchGetAllStudents } from '../../../../../redux/actions/AllStudentsAction';\nimport StudentsFilters from '../../Students/Details/StudentsFilters';\nimport LoadMoreStudents from '../../Students/Details/StudentsLoadMore';\nimport axios from 'axios';\nimport { isEmpty } from '../../../../../Utils/Validation/Validation';\nimport makeToast from '../../../../../Utils/Notification/Toaster';\nimport { useHistory } from 'react-router-dom';\nimport { FiArrowLeft } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: '',\n  grade_id: '',\n  teacher: '',\n  students_list: [],\n  err: '',\n  success: ''\n};\n\nfunction TeamCreate() {\n  _s();\n\n  const history = useHistory();\n\n  const handleGoBack = () => {\n    history.goBack();\n  };\n\n  const adminToken = useSelector(state => state.adminToken);\n  const allGrades = useSelector(state => state.allGrades);\n  const {\n    grades\n  } = allGrades;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    fetchAllGrades().then(res => {\n      dispatch(dispatchGetAllGrades(res));\n    });\n  }, [dispatch]);\n  const adminAuth = useSelector(state => state.adminAuth);\n  const allTeachers = useSelector(state => state.allTeachers);\n  const [page] = useState(1);\n  const [search_email] = useState('');\n  const [search_name] = useState('');\n  const [sort] = useState('');\n  const {\n    isAdminLogged\n  } = adminAuth;\n  const {\n    teachers\n  } = allTeachers;\n  useEffect(() => {\n    if (isAdminLogged) {\n      return fetchAllTeachers(adminToken, page, sort, search_email, search_name).then(res => {\n        dispatch(dispatchGetAllTeachers(res));\n      });\n    }\n  }, [adminToken, page, sort, search_email, search_name, isAdminLogged, dispatch]);\n  const allStudents = useSelector(state => state.allStudents);\n  const [search_username] = useState('');\n  const [grade] = useState('');\n  const {\n    students\n  } = allStudents;\n  console.log(students);\n  useEffect(() => {\n    if (isAdminLogged) {\n      return fetchAllStudents(adminToken, page, grade, sort, search_username, search_name).then(res => {\n        dispatch(dispatchGetAllStudents(res));\n      });\n    }\n  }, [adminToken, page, grade, sort, search_username, search_name, isAdminLogged, dispatch]);\n  const [avatar, setAvatar] = useState(false);\n  const [team, setTeam] = useState(initialState);\n  const [loading, setLoading] = useState(false);\n  const {\n    name,\n    grade_id,\n    teacher,\n    students_list,\n    err,\n    success\n  } = team;\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setTeam({ ...team,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const changeAvatar = async e => {\n    e.preventDefault();\n\n    try {\n      const file = e.target.files[0];\n      if (!file) return setTeam({ ...team,\n        err: 'No files were uploaded.',\n        success: ''\n      });\n      if (file.size > 1024 * 1024) return setTeam({ ...team,\n        err: 'Size too large.',\n        success: ''\n      });\n      if (file.type !== 'image/jpeg' && file.type !== 'image/png') return setTeam({ ...team,\n        err: 'File format is incorrect.',\n        success: ''\n      });\n      let formData = new FormData();\n      formData.append('file', file);\n      setLoading(true);\n      const res = await axios.post('/api/upload_avatar', formData, {\n        headers: {\n          'content-type': 'multipart/form-data',\n          Authorization: adminToken\n        }\n      });\n      setLoading(false);\n      setAvatar(res.data.url);\n    } catch (err) {\n      setTeam({ ...team,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  const handleCheck = e => {\n    if (e.target.checked) {\n      students_list.push(e.target.value);\n    } else {\n      let index = students_list.indexOf(e.target.value);\n      students_list.splice(index, 1);\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isEmpty(name) || isEmpty(grade_id) || isEmpty(teacher) || isEmpty(students_list) || isEmpty(avatar)) return setTeam({ ...team,\n      err: 'Fill in all the details.',\n      success: ''\n    });\n\n    try {\n      await axios.post('/api/teams', {\n        name,\n        avatar,\n        grade_id,\n        teacher,\n        students_list\n      }, {\n        headers: {\n          Authorization: adminToken\n        }\n      });\n      setTeam({ ...team,\n        err: '',\n        success: \"Create a team\"\n      });\n      history.push(\"/admin/teams\");\n    } catch (err) {\n      setTeam({ ...team,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"overflow-auto pb-4 px-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGoBack,\n        className: \"flex mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(FiArrowLeft, {\n          className: \"self-center mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 62\n        }, this), \" Go back\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"container mx-auto max-w-8xl\",\n        children: [err && makeToast(\"error\", err), success && makeToast(\"success\", success), loading && /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:flex bg-gray-100 mb-10 p-6 rounded-lg shadow\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:w-1/2\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold text-gray-800\",\n              children: \"Teams\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl md:text-2xl font-bold text-gray-800 mt-2 leading-tight mb-6\",\n              children: \"Create Teams.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-700 mb-6\",\n              children: \"Read, Update and Delete the Teams.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:w-1/2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-5  text-center w-48\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-4\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"w-auto mx-auto rounded-full object-cover object-center\",\n                  src: avatar ? avatar : null,\n                  alt: \"Avatar Upload\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-gray-200 text-gray-500 text-xs mt-5 ml-8 font-bold px-4 py-2 rounded-lg float-left hover:bg-gray-300 hover:text-gray-600 relative overflow-hidden cursor-pointer\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: changeAvatar,\n                  type: \"file\",\n                  name: \"file\",\n                  id: \"file_up\",\n                  className: \"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 25\n                }, this), \" Change Photo\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:w-1/2 pr-0 md:pr-8 mb-8 md:mb-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              className: \"block text-black font-medium text-sm mb-2\",\n              children: \"Team Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              onChange: handleChange,\n              value: name,\n              className: \"block appearance-none w-full bg-gray-200 border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-red-500\",\n              type: \"text\",\n              name: \"name\",\n              id: \"name\",\n              placeholder: \"Enter the Team Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"md:w-1/2 flex flex-col justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"grade_id\",\n                className: \"block text-black font-medium text-sm mb-2\",\n                children: \"Grade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"grade_id\",\n                  value: grade_id,\n                  onChange: handleChange,\n                  name: \"grade_id\",\n                  className: \"block appearance-none w-full bg-gray-200 border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-red-500\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Select the Grade\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 37\n                  }, this), grades.map(grade => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: grade._id,\n                    children: grade.name\n                  }, grade._id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 45\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\",\n                  children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                    className: \"fill-current h-4 w-4\",\n                    xmlns: \"http://www.w3.org/2000/svg\",\n                    viewBox: \"0 0 20 20\",\n                    children: /*#__PURE__*/_jsxDEV(\"path\", {\n                      d: \"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 203,\n                      columnNumber: 130\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-end \",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"shadow inline-flex items-center bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:shadow-outline text-white font-semibold py-2 px-4 rounded-lg\",\n                children: \"Create Team\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(TeachersFilters, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-4 pb-8\",\n              children: teachers.map(teacher => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  teacher: teacher,\n                  className: \"flex gap-4 bg-yellow-400 p-2 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"teacher\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 221,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"w-5 h-5\",\n                    value: teacher._id,\n                    onChange: handleChange,\n                    id: \"teacher\",\n                    type: \"radio\",\n                    name: \"teacher\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-sm text-black\",\n                      children: [\"Email: \", teacher.email]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-sm text-black\",\n                      children: [\"Name: \", teacher.firstName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 226,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-sm text-black\",\n                      children: [\"Team: \", teacher.teams.length === 0 ? \"Not assigned\" : teacher.teams.map(team => /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"p-1\",\n                        children: team.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 230,\n                        columnNumber: 160\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 41\n                  }, this)]\n                }, teacher._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 44\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(LoadMoreTeachers, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(StudentsFilters, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-col gap-4 pb-8\",\n              children: students.map(student => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-4 bg-green-400 p-2 rounded-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"students_list\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"w-5 h-5\",\n                    value: student._id,\n                    onChange: handleCheck,\n                    id: \"students_list\",\n                    type: \"checkbox\",\n                    name: \"students_list\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-sm text-black\",\n                      children: [\"Email: \", student.username]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 247,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-sm text-black\",\n                      children: [\"Name: \", student.firstName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-sm text-black\",\n                      children: [\"Name: \", student.grade.name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 253,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 252,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                      className: \"text-sm text-black\",\n                      children: [\"Team: \", student.team === undefined || student.team === null ? \"Not assigned\" : student.team.name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 256,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 33\n                  }, this)]\n                }, student._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 40\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(LoadMoreStudents, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(TeamCreate, \"jWNZGZFejKX6n5/6Om1FpYBUdbk=\", false, function () {\n  return [useHistory, useSelector, useSelector, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = TeamCreate;\nexport default TeamCreate;\n\nvar _c;\n\n$RefreshReg$(_c, \"TeamCreate\");","map":{"version":3,"sources":["C:/Users/Vishw/OneDrive/Documents/Mythinkacademy/client/src/pages/Dashboard/Admin/Teams/Details/TeamCreate.jsx"],"names":["React","useEffect","useState","fetchAllGrades","dispatchGetAllGrades","useDispatch","useSelector","fetchAllTeachers","dispatchGetAllTeachers","TeachersFilters","LoadMoreTeachers","fetchAllStudents","dispatchGetAllStudents","StudentsFilters","LoadMoreStudents","axios","isEmpty","makeToast","useHistory","FiArrowLeft","initialState","name","grade_id","teacher","students_list","err","success","TeamCreate","history","handleGoBack","goBack","adminToken","state","allGrades","grades","dispatch","then","res","adminAuth","allTeachers","page","search_email","search_name","sort","isAdminLogged","teachers","allStudents","search_username","grade","students","console","log","avatar","setAvatar","team","setTeam","loading","setLoading","handleChange","e","value","target","changeAvatar","preventDefault","file","files","size","type","formData","FormData","append","post","headers","Authorization","data","url","response","msg","handleCheck","checked","push","index","indexOf","splice","handleSubmit","map","_id","email","firstName","teams","length","student","username","undefined"],"mappings":"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","sourcesContent":["import React, { useEffect,  useState } from 'react'\r\nimport { fetchAllGrades, dispatchGetAllGrades } from '../../../../../redux/actions/GradesAction'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { fetchAllTeachers, dispatchGetAllTeachers } from '../../../../../redux/actions/AllTeachersAction'\r\nimport TeachersFilters from '../../Teachers/Details/TeachersFilters'\r\nimport LoadMoreTeachers from '../../Teachers/Details/TeachersLoadMore'\r\nimport { fetchAllStudents, dispatchGetAllStudents } from '../../../../../redux/actions/AllStudentsAction'\r\nimport StudentsFilters from '../../Students/Details/StudentsFilters'\r\nimport LoadMoreStudents from '../../Students/Details/StudentsLoadMore'\r\nimport axios from 'axios'\r\nimport { isEmpty } from '../../../../../Utils/Validation/Validation'\r\nimport makeToast from '../../../../../Utils/Notification/Toaster'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { FiArrowLeft } from 'react-icons/fi'\r\n\r\n\r\nconst initialState = {\r\n    name: '',\r\n    grade_id: '',\r\n    teacher: '',\r\n    students_list: [],\r\n    err: '',\r\n    success: ''\r\n}\r\n\r\nfunction TeamCreate() {\r\n    const history = useHistory()\r\n    const handleGoBack = () => {\r\n        history.goBack()\r\n    }\r\n    const adminToken = useSelector(state => state.adminToken)\r\n    const allGrades = useSelector(state => state.allGrades)\r\n\r\n    const {grades} = allGrades\r\n\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        fetchAllGrades().then(res => {\r\n            dispatch(dispatchGetAllGrades(res))\r\n        })\r\n    }, [dispatch])\r\n\r\n    const adminAuth = useSelector(state => state.adminAuth)\r\n    const allTeachers = useSelector(state => state.allTeachers)\r\n\r\n    const [page] = useState(1)\r\n    const [search_email] = useState('')\r\n    const [search_name] = useState('')\r\n    const [sort] = useState('')\r\n\r\n    const { isAdminLogged } = adminAuth\r\n\r\n    const { teachers } = allTeachers\r\n\r\n\r\n    useEffect(() => {\r\n        if(isAdminLogged) {\r\n            return fetchAllTeachers(adminToken, page, sort, search_email, search_name).then(res => {\r\n                dispatch(dispatchGetAllTeachers(res))\r\n            })\r\n        }\r\n    }, [adminToken, page, sort, search_email, search_name, isAdminLogged, dispatch])\r\n\r\n    const allStudents = useSelector(state => state.allStudents)\r\n\r\n    const [search_username] = useState('')\r\n    const [grade] = useState('')\r\n\r\n\r\n    const { students } = allStudents\r\n    console.log(students)\r\n\r\n    useEffect(() => {\r\n        if(isAdminLogged) {\r\n            return fetchAllStudents(adminToken, page, grade, sort, search_username, search_name).then(res => {\r\n                dispatch(dispatchGetAllStudents(res))\r\n            })\r\n        }\r\n    }, [adminToken, page, grade, sort, search_username, search_name, isAdminLogged, dispatch])\r\n\r\n    const [avatar, setAvatar] = useState(false)\r\n\r\n    const [team, setTeam] = useState(initialState)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const { name, grade_id, teacher, students_list, err, success } = team\r\n\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target \r\n        setTeam({ ...team, [name]:value, err: '', success: ''})\r\n    }\r\n\r\n\r\n\r\n    const changeAvatar = async(e) => {\r\n        e.preventDefault()\r\n        try {\r\n            const file = e.target.files[0]\r\n\r\n            if(!file) return setTeam({ ...team, err: 'No files were uploaded.', success: ''})\r\n\r\n            if(file.size > 1024 * 1024) \r\n                return setTeam({ ...team, err: 'Size too large.', success: ''})\r\n\r\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png')\r\n                return setTeam({ ...team, err: 'File format is incorrect.', success: ''})\r\n\r\n            let formData = new FormData()\r\n\r\n            formData.append('file', file)\r\n\r\n            setLoading(true)\r\n            const res = await axios.post('/api/upload_avatar', formData, {\r\n                headers: {'content-type': 'multipart/form-data', Authorization: adminToken}\r\n            })\r\n\r\n            setLoading(false)\r\n            setAvatar(res.data.url)\r\n            \r\n        } catch (err) {\r\n            setTeam({ ...team, err: err.response.data.msg, success:''})\r\n        }\r\n    }\r\n\r\n    const handleCheck = e => {\r\n        if(e.target.checked){\r\n            students_list.push(e.target.value)\r\n        } else {\r\n            let index = students_list.indexOf(e.target.value)\r\n            students_list.splice(index, 1)\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        if(isEmpty(name) || isEmpty(grade_id) || isEmpty(teacher) || isEmpty(students_list) || isEmpty(avatar))\r\n            return setTeam({...team, err: 'Fill in all the details.' , success: ''})\r\n\r\n        try {\r\n\r\n            await axios.post('/api/teams', {\r\n                name, avatar, grade_id, teacher, students_list\r\n            }, {\r\n                headers: {Authorization: adminToken}\r\n            })\r\n            setTeam({ ...team, err: '', success: \"Create a team\"})\r\n            history.push(\"/admin/teams\")\r\n\r\n        } catch (err) {\r\n            setTeam({ ...team, err: err.response.data.msg, success:''})\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n        <main className=\"overflow-auto pb-4 px-6\">\r\n        <button onClick={handleGoBack} className=\"flex mb-4\"><FiArrowLeft className=\"self-center mr-2\"/> Go back</button>\r\n\r\n            <form onSubmit={handleSubmit} className=\"container mx-auto max-w-8xl\">\r\n            {err && makeToast(\"error\", err)}\r\n                        {success && makeToast(\"success\", success)}\r\n                        {loading && <h3>Loading...</h3>}\r\n\r\n                <div className=\"md:flex bg-gray-100 mb-10 p-6 rounded-lg shadow\">\r\n                    <div className=\"md:w-1/2\">\r\n                        <h2 className=\"text-xl font-bold text-gray-800\">Teams</h2>\r\n                        <h2 className=\"text-xl md:text-2xl font-bold text-gray-800 mt-2 leading-tight mb-6\">Create Teams.</h2>\r\n                        <p className=\"text-gray-700 mb-6\">Read, Update and Delete the Teams.</p>\r\n                    </div>\r\n                    <div className=\"md:w-1/2\">\r\n                    <div className=\"px-4 py-5  text-center w-48\">\r\n                    <div className=\"mb-4\">\r\n                        <img className=\"w-auto mx-auto rounded-full object-cover object-center\" src={avatar ? avatar : null} alt=\"Avatar Upload\" />\r\n                    </div>\r\n                    <div className=\"bg-gray-200 text-gray-500 text-xs mt-5 ml-8 font-bold px-4 py-2 rounded-lg float-left hover:bg-gray-300 hover:text-gray-600 relative overflow-hidden cursor-pointer\">\r\n                        <input onChange={changeAvatar} type=\"file\" name=\"file\" id=\"file_up\" className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\" /> Change Photo\r\n                    </div>\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"md:w-1/2 pr-0 md:pr-8 mb-8 md:mb-0\">\r\n                    <label htmlFor=\"name\" className=\"block text-black font-medium text-sm mb-2\">Team Name</label>\r\n                    <input onChange={handleChange}  value={name} className=\"block appearance-none w-full bg-gray-200 border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-red-500\" \r\n                                    type=\"text\" name=\"name\" id=\"name\" placeholder=\"Enter the Team Name\" />\r\n                    </div>\r\n                    <div className=\"md:w-1/2 flex flex-col justify-between\">\r\n                    <div className=\"\">\r\n                            <label htmlFor=\"grade_id\" className=\"block text-black font-medium text-sm mb-2\">Grade</label>\r\n                            <div className=\"relative\">\r\n                                <select id=\"grade_id\" value={grade_id} onChange={handleChange} name=\"grade_id\" className=\"block appearance-none w-full bg-gray-200 border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-red-500\">\r\n                                    <option value=\"\">Select the Grade</option>\r\n                                    {\r\n                                        grades.map(grade => (\r\n                                            <option value={grade._id} key={grade._id}>{grade.name}</option>\r\n                                        ))\r\n                                    }\r\n                                </select>\r\n                                <div className=\"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\">\r\n                                    <svg className=\"fill-current h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\"/></svg>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex justify-end \">\r\n                        <button  type=\"submit\" className=\"shadow inline-flex items-center bg-indigo-500 hover:bg-indigo-600 focus:outline-none focus:shadow-outline text-white font-semibold py-2 px-4 rounded-lg\">\r\n                            Create Team\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                    <div>\r\n                    <TeachersFilters />\r\n                        <div className=\"flex flex-col gap-4 pb-8\">\r\n                            {\r\n                                teachers.map(teacher => {\r\n                                    return <div key={teacher._id} teacher={teacher} className=\"flex gap-4 bg-yellow-400 p-2 rounded-lg\">\r\n                                        <label htmlFor=\"teacher\"></label>\r\n                                        <input className=\"w-5 h-5\" value={teacher._id} onChange={handleChange} id=\"teacher\" type=\"radio\" name=\"teacher\"  />\r\n                                        <div>\r\n                                            <h1 className=\"text-sm text-black\">Email: {teacher.email}</h1>\r\n                                        </div>\r\n                                        <div>\r\n                                            <h1 className=\"text-sm text-black\">Name: {teacher.firstName}</h1>\r\n                                        </div>\r\n                                        <div>\r\n                                            <h1 className=\"text-sm text-black\">Team: {teacher.teams.length === 0 ? \"Not assigned\" : teacher.teams.map(team => (<span className=\"p-1\">{team.name}</span>))}</h1>\r\n                                        </div>\r\n                                    </div>\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <LoadMoreTeachers />\r\n                    </div>\r\n                    <div>\r\n                    <StudentsFilters />\r\n                    <div className=\"flex flex-col gap-4 pb-8\">\r\n                        {\r\n                            students.map(student => {\r\n                                return <div key={student._id} className=\"flex gap-4 bg-green-400 p-2 rounded-lg\">\r\n                                <label htmlFor=\"students_list\"></label>\r\n                                <input className=\"w-5 h-5\" value={student._id} onChange={handleCheck} id=\"students_list\" type=\"checkbox\" name=\"students_list\" />\r\n                                <div>\r\n                                    <h1 className=\"text-sm text-black\">Email: {student.username}</h1>\r\n                                </div>\r\n                                <div>\r\n                                    <h1 className=\"text-sm text-black\">Name: {student.firstName}</h1>\r\n                                </div>\r\n                                <div>\r\n                                    <h1 className=\"text-sm text-black\">Name: {student.grade.name}</h1>\r\n                                </div>\r\n                                <div>\r\n                                    <h1 className=\"text-sm text-black\">Team: {student.team === undefined || student.team === null ? \"Not assigned\" : student.team.name}</h1>\r\n                                </div>\r\n                            </div>\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <LoadMoreStudents />\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default TeamCreate\r\n"]},"metadata":{},"sourceType":"module"}